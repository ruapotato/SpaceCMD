#!/usr/bin/pooscript
# RANSOMWARE - Lock systems and demand control

print("ðŸ”’ RANSOMWARE DEPLOYMENT")
print("")

print("ðŸ’€ LOCKING SHIP SYSTEMS...")
print("")

# Lock all systems - create encryption markers
systems = ["weapons", "shields", "engines", "reactor", "medbay", "oxygen", "sensors", "doors"]

locked_count = 0
for system in systems:
    try:
        # Check if system exists
        health_path = f"/sys/ship/systems/{system}/health"
        fd = kernel.open(health_path, kernel.O_RDONLY)
        kernel.close(fd)

        # Create lock file
        lock_file = f"/tmp/.ransomware_lock_{system}"
        fd = kernel.open(lock_file, kernel.O_WRONLY | kernel.O_CREAT)
        kernel.write(fd, b"LOCKED_BY_RANSOMWARE")
        kernel.close(fd)

        locked_count += 1
        print(f"   ðŸ”’ {system} - LOCKED")
    except:
        print(f"   âœ— {system} - not found")

# Create master control file
try:
    fd = kernel.open("/tmp/.ransomware_master", kernel.O_WRONLY | kernel.O_CREAT)
    control_data = f"SHIP_LOCKED|{locked_count}_SYSTEMS|FULL_CONTROL_GRANTED"
    kernel.write(fd, control_data.encode('utf-8'))
    kernel.close(fd)
except:
    pass

print("")
print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
print("â•‘         SHIP SYSTEMS LOCKED                â•‘")
print("â•‘                                            â•‘")
print(f"â•‘   {locked_count} systems under your control         â•‘")
print("â•‘                                            â•‘")
print("â•‘   YOU HAVE FULL ACCESS                    â•‘")
print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("")
print("âœ… SHIP COMPLETELY COMPROMISED")
print("")
print("ðŸ’¡ YOU NOW CONTROL THIS SHIP")
print("   Choose your next action:")
print("")
print("   [1] Destroy it:")
print("       for sys in weapons shields engines reactor; do")
print("         echo 0 > /sys/ship/systems/$sys/health")
print("       done")
print("")
print("   [2] Add to fleet:")
print("       # Write AI script to coordinate with your ship")
print("       pooscript /scripts/fleet/add_ship.poo")
print("")
print("   [3] Ransom it:")
print("       # Demand scrap for unlock key")
print("       # Keep systems locked until paid")
print("")
print("Ship is yours. What will you do?")

exit(0)
