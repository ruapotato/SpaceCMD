#!/usr/bin/pooscript
# Debug command - damage a system (for testing)
# HACKABLE: Modify damage amounts, add special effects, etc.

if len(args) < 1:
    error("Usage: damage <room_name> [amount]")
    error("Example: damage shields 0.5")
    exit(1)

room_name = args[0]
damage_amount = 0.3

if len(args) >= 2:
    try:
        damage_amount = float(args[1])
    except:
        error(f"Invalid damage amount: {args[1]}")
        exit(1)

# Find room
rooms = vfs.list("/rooms")
room_match = None

for room in rooms:
    if room in [".", ".."]:
        continue
    if room_name.lower() in room.lower():
        room_match = room
        break

if not room_match:
    error(f"Room not found: {room_name}")
    exit(1)

print(f"DEBUG: Damaging {room_match} by {damage_amount * 100:.0f}%")
print("(Damage system not yet fully implemented)")
print("HACK THIS SCRIPT to add custom damage effects!")
